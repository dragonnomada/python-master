# Expresiones Regulares

Por [Dragón Nómada](https://dragonnomada.medium.com)

## ¿Qué son las expresiones regulares?

Son patrones de reconocimiento de textos a partir de identificadores que agrupan símbolos y son llamados _tokens_. Dichos _tokens_ sirven para determinar dentro de un texto si una secuencia de símbolos se encuentra dentro de él, para de esta forma recuperarlo.

Suponga el siguiente texto con información de una conversación.

> Ejemplo de una conversación

```txt
[Ana]: Hola soy Ana y mi correo es ana123@gmail.com.mx.eu
[Beto]: Hola ana, yo soy beto y mi correo es betin456@hotmail.com
[Ana]: te dejo mi número es el 5512345678
[Beto]: el mío es 432 1234-5678
```

Podemos identificar en él correos electrónicos, números telefónicos y nombres de usuario.

## ¿Cómo se identifica un patrón?

Nosotros reconocemos un correo electrónico mediante su estructura o _patrón_, el cual establece la secuencia de símbolos específicos que validan si es un correo electrónico o no, es decir, que lo reconocen.

La siguiente tabla muestra una lista de los identificadores más comunes en el reconocimiento.

Token | Descripción
--- | ---
`\d` | Caracteres numéricos (dígitos del `0` al `9`)
`\w` | Caracteres alfa-numéricos (de la `a` a la `z`, `A` a la `Z` y los dígitos del `0` al `9`)
`\s` | Caracter espacio
`\t` | Caracter tabulador
`\n` | Caracter salto de línea
`a` | Caracter `a`
`\@` | Caracter `@`
`\.` | Caracter punto (`.`)
`.` | Cualquier caracter (observa la diferencia con `\.`)

Por ejemplo, si quisieramos reconocer cualquier fecha bajo el siguiente formato `YYYY-MM-DD` como `2021-07-22` podríamos estructurar el siguiente patrón `\d\d\d\d\-\d\d\-\d\d` que significa `"4 dígitos, un guión, dos dígitos, un guión y dos dígitos"`. Así, cualquier cadena dentro de un texto que cumpla ese patrón sería reconocida.

Para poder condensar los _tokens_ podemos usar los repetidores. En la siguiente lista se listan los principales.

Repetidor | Descripción
--- | ---
`?` | Repetidor opcional, indica que se puede presentar o no el token (`0` o `1` veces)
`*` | Repetidor ascendente, indica que se puede presentar muchas veces o podría que no (`0` o más veces)
`+` | Repetidor positivo, indica que se puede presentar al menos una vez (`1` o más veces)
`{n}` | Repetidor fijo, indica que se puede presentar `n` veces (`n` veces)
`{a,b}` | Repetidor en rango, indica que se puede presentar al menos `a` veces y máximo `b` veces (de `a` a `b` veces)
`{a,}` | Repetidor inferior, indica que se puede presentar al menos `a` veces (`a` o más veces) 
`{,b}` | Repetidor superior, indica que se puede presentar hasta `b` veces o podría que no (de `0` a `b` veces) 

Así el patrón que reconoce la fecha podría definirse como `\d{4}\-\d{2}\-\d{2}` que significa `"4 dígitos, un guión, dos dígitos, un guión y dos dígitos"`.

También podemos agrupar los _tokens_ y símbolos para formar _tokens_ más complejos, en la siguiente tabla se muestran los dos tipos de agrupadores y su descripción.

Agrupador | Descripción
--- | ---
`[ ]` | Crea un conjunto de símbolos como _token_. Ejemplo: `[a-z0-9]` (caracteres en minúsculas y dígitos del 0 al 9)
`( )` | Crea un grupo con los _tokens_. Ejemplo: `(\w+)` (El grupo con todos los caracteres alfanuméricos)

Los agrupadores `[]` sirven para crear un conjunto de símbolos, por ejemplo, `[\w\_\-\.]+\@` significa `"Todos los caracteres alfanuméricos, guines bajos y medios y caracter punto repetidos al menos una vez antes del caracter @ "`.

Los agrupadores `()` sirven para extraer grupos en el reconocimiento, por ejemplo, `(\d{4})\-(\d{2})\-(\d{2})` extraería como primer grupo los 4 dígitos del año, como segundo grupo 2 dígitos del mes y como tercer grupo 2 dígitos del día.

## Ejemplo

> Reconocer un correo electrónico

```txt
Patrón: [\w\-\_\.]+\@[\w\-]+(\.\w{2,3}){1,2}

Descripción: Cualquier caracter alfanumérico incluyendo guión bajo y medio y punto, 
repetidos al menos una vez antes de la arroba (@). Seguido de caracter alfanuméricos
al menos uno y un caracter punto seguido de 2 a 3 caracteres alfanuméricos
repetidos de 1 a 2 veces.

Ejemplo:
ana.12_3@gmail.com.mx
pepe-123.456@hotmail.com
```